<!--<div class="lg:flex lg:items-center lg:justify-between">
    <div class="flex-1 min-w-0">
        <h2 class="text-xl font-bold leading-7 text-gray-900 sm:truncate">Documentos y expediente único</h2>
    </div>
    <div class="mt-5 flex lg:mt-0 lg:ml-4">
        <span class="sm:ml-3">
          <button type="button" mat-flat-button color="primary" class="rounded-md" (click)="openUploadDialog()">
            <i class="fa-solid fa-file-arrow-up"></i> Subir nuevo documento
          </button>
        </span>
    </div>
</div>-->
<mat-dialog-content class="mat-typography" *ngIf="documents">

    <div class="flex items-center justify-between w-full">
        <div class="text-xl font-bold">Expediente único</div>
    </div>
    <div class="grid grid-cols-6 my-5 gap-4">
        <div class="w-full max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700" *ngFor="let document of expedienteUnico">
            <div class="flex justify-end px-4 pt-4">
                <i class="fa-solid fa-circle-check fa-lg" [ngClass]="{ 'text-emerald-500': document.Documentacion.length >= 1, 'text-slate-300': document.Documentacion.length <= 0 }"></i>
            </div>
            <div class="flex flex-col items-center pb-10">
                <img class="w-10 mb-3" src="assets/doc-default-icon.png"/>
                <span class="text-sm text-center text-gray-500 dark:text-gray-400">{{ document.nombre }}</span>
                <div class="flex mt-4 gap-2">
                    <button mat-flat-button color="primary" (click)="openUploadExpedienteDialog(document.id)">Cargar</button>
                    <button mat-stroked-button *ngIf="document.Documentacion.length >= 1" (click)="selectDocument(document.Documentacion[0])">Seleccionar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="flex items-center justify-between w-full mb-5">
        <div class="text-xl font-bold">Documentos generales</div>

        <button type="button" mat-flat-button color="primary" class="rounded-md" (click)="openUploadDialog()">
            <i class="fa-solid fa-file-arrow-up"></i> Subir nuevo documento
        </button>
    </div>
    <mat-accordion displayMode="flat" >
        <mat-expansion-panel *ngFor="let document of documents" >
            <mat-expansion-panel-header>
                <mat-panel-title class="text-xl text-slate-500">
                    {{ document.nombre }}
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="grid grid-cols-6 gap-4 mt-3">
                <div *ngFor="let documentacion of document.Documentacion"
                     class="relative w-full h-40 p-4 border rounded-2xl bg-white mx-auto">
                    <button class="absolute z-20 top-1.5 right-1.5 w-8 h-8" mat-icon-button [matMenuTriggerFor]="menu">
                        <i class="fa-solid fa-ellipsis-vertical fa-lg"></i>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item class="text-red-500">
                            <i class="fa-solid fa-trash"></i>
                            Eliminar archivo
                        </button>
                    </mat-menu>
                    <a (click)="selectDocument(documentacion)"
                       class="z-10 absolute inset-0 flex flex-col p-4 cursor-pointer">
                        <div class="aspect-[9/6]">
                            <div class="flex items-center justify-center h-full text-slate-400">
                                <!-- Icon -->
                                <i class="fa-solid fa-file fa-3x"></i>
                            </div>
                        </div>
                        <div class="flex flex-col flex-auto justify-center text-center text-xs">
                            <div class="truncate font-medium">{{ documentacion.nombre_otro }}</div>
                            <div class="text-slate-400 truncate font-normal" *ngIf="documentacion.vigencia_final">Vigencia al {{ documentacion.vigencia_final | date:'shortDate' }}</div>
                        </div>
                    </a>
                </div>
            </div>
        </mat-expansion-panel>
    </mat-accordion>
    <!--<div id="alert-1" class="flex p-4 my-4 bg-blue-100 rounded-lg dark:bg-blue-200" role="alert">
        <svg class="flex-shrink-0 w-5 h-5 text-blue-700 dark:text-blue-800" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
        <div class="ml-3 text-sm font-medium text-blue-700 dark:text-blue-800">
            {{ documents.length > 0 ? 'Seleccionar entre tus documentos el que requieras para tu trámite' : 'No se encontraron documentos...'}}
        </div>
    </div>
    <div class="grid grid-cols-4 gap-4 mt-5">
        <a (click)="selectDocument(document)" class="flex block p-2 bg-white rounded-lg border border-gray-200 shadow-md hover:bg-gray-100 hover:cursor-pointer" *ngFor="let document of documents">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd" />
            </svg>
            <div class="space-y-0">
                <h3 class="text-sm font-bold text-gray-900 mb-0" *ngIf="!document.nombre_otro">{{ document.Tipo.nombre }}</h3>
                <h3 class="text-sm font-bold text-gray-900 mb-0" *ngIf="document.nombre_otro">{{ document.nombre_otro }}</h3>
                <p class="text-xs">Vigencia al {{ document.vigencia_final | date:'shortDate' }}</p>
                <p class="text-xs">{{ document.url }}</p>
            </div>
        </a>
    </div>-->

</mat-dialog-content>
